class DateConverter{constructor(t,e={},s=DateConverter.DAYS,i=""){this.parsed=[],this.config={weekText:"w",dayText:"d",hourText:"h",minuteText:"m",secondText:"s",hoursADay:24,daysAWeek:7,spaceBetweenNumberAndText:!1,omitZero:!1},this.until=t,this.defaultText=i,this.setType(s),Object.assign(this.config,e)}setType(t){this.type=t}parse(){return this.calcMilliseconds(),this.milliseconds===-1?this.defaultText:0===this.milliseconds?0:(this.parsed.length=0,this.processSeconds(),this.processMinutes(),this.processHours(),this.processDays(),this.processWeeks(),void this.parsed.sort(()=>-1))}convert(){return(this.isNegative()?"-":"")+this.parsed.join(" ")}getParts(){return this.parsed}isNegative(){return this.milliseconds<0}calcMilliseconds(){const t=new Date;t.setMilliseconds(0),this.milliseconds=this.until.getTime()-t.getTime()}processSeconds(){let t=Math.floor(Math.abs(this.milliseconds)/1e3);this.type>DateConverter.SECONDS&&(t%=60),(0!==t||!this.config.omitZero&&this.type>DateConverter.SECONDS)&&(this.seconds=t,this.parsed.push(this.getText(this.config.secondText,t)))}processMinutes(){if(!(this.type<DateConverter.MINUTES)){let t=Math.floor(Math.abs(this.milliseconds)/6e4);this.type>DateConverter.MINUTES&&(t%=60),(0!==t||!this.config.omitZero&&this.type>DateConverter.MINUTES)&&(this.minutes=t,this.parsed.push(this.getText(this.config.minuteText,t)))}}processHours(){if(!(this.type<DateConverter.HOURS)){let t=Math.floor(Math.abs(this.milliseconds)/36e5);this.type>DateConverter.HOURS&&(t=t%24%this.config.hoursADay),(0!==t||!this.config.omitZero&&this.type>DateConverter.HOURS)&&(this.hours=t,this.parsed.push(this.getText(this.config.hourText,t)))}}processDays(){if(!(this.type<DateConverter.DAYS)){let t=Math.floor(Math.abs(this.milliseconds)/this.getMillisecondsDays());this.type>DateConverter.DAYS&&(t%=this.config.daysAWeek),(0!==t||!this.config.omitZero&&this.type>DateConverter.DAYS)&&(this.days=t,this.parsed.push(this.getText(this.config.dayText,t)))}}processWeeks(){if(!(this.type<DateConverter.WEEKS)){let t=Math.floor(Math.abs(this.milliseconds)/this.getMillisecondsWeeks());(0!==t||!this.config.omitZero&&this.type>DateConverter.WEEKS)&&(this.weeks=t,this.parsed.push(this.getText(this.config.weekText,t)))}}getMillisecondsDays(){return 36e5*this.config.hoursADay}getMillisecondsWeeks(){return this.getMillisecondsDays()*this.config.daysAWeek}getText(t,e){return"string"!=typeof t&&(t=1===e?t.singular:t.plural),e+(this.config.spaceBetweenNumberAndText?" ":"")+t}}DateConverter.SECONDS=0,DateConverter.MINUTES=1,DateConverter.HOURS=2,DateConverter.DAYS=3,DateConverter.WEEKS=4,Object.freeze(DateConverter);