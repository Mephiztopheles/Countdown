class Countdown{constructor(t,s={},i=Countdown.DAYS,e=""){this.parsed=[],this.config={weekText:"w",dayText:"d",hourText:"h",minuteText:"m",secondText:"s",hoursADay:24,daysAWeek:7,spaceBetweenNumberAndText:!1,omitZero:!1},this.until=t,this.defaultText=e,this.setType(i),Object.assign(this.config,s)}setType(t){this.type=t}parse(){return this.calcMilliseconds(),this.milliseconds===-1?this.defaultText:0===this.milliseconds?0:(this.parsed.length=0,this.processSeconds(),this.processMinutes(),this.processHours(),this.processDays(),this.processWeeks(),void this.parsed.sort(()=>-1))}convert(){return(this.isNegative()?"-":"")+this.parsed.join(" ")}getParts(){return this.parsed}isNegative(){return this.milliseconds<0}calcMilliseconds(){const t=new Date;t.setMilliseconds(0),this.milliseconds=this.until.getTime()-t.getTime()}processSeconds(){let t=Math.floor(Math.abs(this.milliseconds)/1e3);this.type>Countdown.SECONDS&&(t%=60),(0!==t||!this.config.omitZero&&this.type>Countdown.SECONDS)&&(this.seconds=t,this.parsed.push(this.getText(this.config.secondText,t)))}processMinutes(){if(!(this.type<Countdown.MINUTES)){let t=Math.floor(Math.abs(this.milliseconds)/6e4);this.type>Countdown.MINUTES&&(t%=60),(0!==t||!this.config.omitZero&&this.type>Countdown.MINUTES)&&(this.minutes=t,this.parsed.push(this.getText(this.config.minuteText,t)))}}processHours(){if(!(this.type<Countdown.HOURS)){let t=Math.floor(Math.abs(this.milliseconds)/36e5);this.type>Countdown.HOURS&&(t=t%24%this.config.hoursADay),(0!==t||!this.config.omitZero&&this.type>Countdown.HOURS)&&(this.hours=t,this.parsed.push(this.getText(this.config.hourText,t)))}}processDays(){if(!(this.type<Countdown.DAYS)){let t=Math.floor(Math.abs(this.milliseconds)/this.getMillisecondsDays());this.type>Countdown.DAYS&&(t%=this.config.daysAWeek),(0!==t||!this.config.omitZero&&this.type>Countdown.DAYS)&&(this.days=t,this.parsed.push(this.getText(this.config.dayText,t)))}}processWeeks(){if(!(this.type<Countdown.WEEKS)){let t=Math.floor(Math.abs(this.milliseconds)/this.getMillisecondsWeeks());(0!==t||!this.config.omitZero&&this.type>Countdown.WEEKS)&&(this.weeks=t,this.parsed.push(this.getText(this.config.weekText,t)))}}getMillisecondsDays(){return 36e5*this.config.hoursADay}getMillisecondsWeeks(){return this.getMillisecondsDays()*this.config.daysAWeek}getText(t,s){return"string"!=typeof t&&(t=1===s?t.singular:t.plural),s+(this.config.spaceBetweenNumberAndText?" ":"")+t}}Countdown.SECONDS=0,Countdown.MINUTES=1,Countdown.HOURS=2,Countdown.DAYS=3,Countdown.WEEKS=4,Object.freeze(Countdown);